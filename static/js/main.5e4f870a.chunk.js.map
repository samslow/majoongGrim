{"version":3,"sources":["modules/functions/getArtboardCenterPosition.ts","modules/theme.ts","components/header/HeaderButtons.tsx","store/headerReducer.ts","containers/HeaderContainer.tsx","modules/layers/Layer.ts","modules/layers/ImageLayer.ts","modules/layers/TextLayer.ts","modules/functions/getTextLayerWidth.ts","components/editor/ArtBoard.tsx","store/layerReducer.ts","modules/functions/util.ts","hooks/useDrag.ts","components/editor/DraggableImage.tsx","components/editor/DraggableText.tsx","store/toolboxReducer.ts","containers/EditorContainer.tsx","components/Toolbox/ToolboxContentBox.tsx","components/Toolbox/ImageContentBox.tsx","containers/ToolboxContainer.tsx","modules/functions/resizeImage.ts","components/controllers/ContentsGroup.tsx","components/controllers/ButtonContent.tsx","components/controllers/InputContent.tsx","components/controllers/atoms/SizeSlider.tsx","components/controllers/atoms/AngleSlider.tsx","components/controllers/AdjustContent.tsx","components/controllers/TextController.tsx","components/controllers/ImageController.tsx","components/controllers/DefaultController.tsx","containers/ControllerContainer.tsx","components/layers/LayerBox.tsx","components/layers/LayerBoxes.tsx","containers/LayerContainer.tsx","pages/Home.tsx","store/index.ts","App.tsx","store/configureStore.ts","serviceWorker.ts","index.tsx"],"names":["getArtboardCenterPosition","width","height","artboard","document","getElementById","artboardWidth","getBoundingClientRect","artboardHeight","x","y","HeaderActions","ButtonContainer","styled","div","Title","span","HeaderButtons","onClickShape","layers","useSelector","state","layerReducer","nowShape","headerReducer","Dropdown","style","zIndex","marginRight","Toggle","variant","id","background","Theme","Menu","Item","onClick","Button","e","canvas","createElement","ctx","getContext","CANVAS_WIDTH","CANVAS_HEIGHT","ARTBOARD_X","ARTBOARD_Y","fillStyle","fillRect","sortedLayers","sort","a","b","i","length","target","layerCenterX","layerCenterY","translate","rotate","angleDegree","Math","PI","draw","currentTarget","href","toDataURL","download","margin","initialState","Container","Logo","img","LogoContainer","VersionTag","p","HeaderContainer","dispatch","useDispatch","src","version","name","type","CHANGE_SHAPE","handleShapeButton","Layer","this","ImageLayer","image","drawImage","TextLayer","fontFamily","fontType","fontSize","color","content","textBaseline","font","isBold","isItalic","isUnderline","textElement","getTextLayerWidth","fillText","LayerActions","props","shapeType","ArtBoard","swapZindex","l1","l2","console","log","targetZindex","cloneLayers","selectedId","useDrag","layer","useState","imgX","setImgX","imgY","setImgY","firstImgX","setFirstImgX","firstImgY","setFirstImgY","firstEventClientX","setFirstEventClientX","firstEventClientY","setFirstEventClientY","transparentImage","setTransparentImage","useEffect","Image","onload","onDragStartImageHandler","useCallback","dataTransfer","setDragImage","clientX","clientY","onDragImageHandler","xChange","yChange","onDragOverImageHandler","preventDefault","onDragEndImageHandler","CHANGE_LAYER_LOCATION","Img","DraggableImage","draggable","onDrag","onDragStart","onDragOver","onDragEnd","stopPropagation","position","left","top","transform","ToolboxActions","Text","DraggableText","display","alignItems","selectedTool","initialSelectedBox","EditorContainer","controllerType","toolboxReducer","layerInfo","newSelectedBox","setSelected","setSelectedLayerInfo","selected","selectedLayerInfo","onClickLayerHandler","isSelected","SET_SELECTED","typeName","CHANGE_SELECTED_TOOL","onClickEditorHandler","DESELECT","map","key","border","boxSizing","DISTANCE_BORDER","ContentBox","button","ContentIcon","ContentName","ToolboxContentBox","icon","size","onClickTool","ToolboxType","FileLabel","label","ImageContentBox","htmlFor","accept","hidden","onChange","value","aside","ContentRow","Toolbox","handleTool","TEXT","handleText","IMAGE","handleImage","reader","FileReader","event","result","MAX_WIDTH","MAX_HEIGHT","resizeImage","imgLayer","ADD_LAYER","readAsDataURL","files","INITIAL_FONT_SIZE","newTextLayer","ContentsGroupContainer","section","ContentsRow","ContentsLabel","ContentsGroup","children","subject","IconContainer","ButtonContent","InputBox","ButtonBox","InputText","input","InputSelect","select","Option","option","Label","InputContent","fonts","nowFontFamily","onChangeSize","onChangeContent","onChangeFontFamily","setSize","text","setContent","setFontFamily","Options","fontList","item","index","handleStyle","ADJUST_FONTTYPE","parseInt","min","defaultValue","Slider","SizeSlider","handleChange","val","max","AngleSlider","AdjustBox","AdjustContent","rotation","ADJUST_SIZE","angle","ADJUST_ANGLE","TextController","targetLayer","ADJUST_FONTSIZE","ADJUST_FONTCONTENT","ADJUST_FONTFAMILY","ImageController","DefaultController","ControllerContainer","layersLength","SwitchController","LayerContent","LayerName","RemoveButton","UpDownContainer","LayerBox","onMove","onRemove","DefaultLayers","LayerBoxes","ordered","setOrdered","orderedLayers","slice","layerList","layerType","SET_ZINDEX","_type","handleVerticalMove","REMOVE_LAYER","h3","LayerGroup","LayerContainer","Content","LeftContent","RightContent","Home","ToolboxContainer","rootReducer","combineReducers","action","layerIndex","indexOf","move","filter","upLayer","downLayer","removeIndex","splice","actionFontType","FONT_SIZE","store","createStore","reducers","window","__REDUX_DEVTOOLS_EXTENSION__","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.5e4f870a.chunk.js","sourcesContent":["export const getArtboardCenterPosition = (width: number, height: number) => {\n  const artboard = document.getElementById(\"artboard\");\n  let x;\n  let y;\n  if (artboard !== null) {\n    let artboardWidth = artboard.getBoundingClientRect().width;\n    let artboardHeight = artboard?.getBoundingClientRect().height;\n    let artboardX = artboard.getBoundingClientRect().x;\n    let artboardY = artboard?.getBoundingClientRect().y;\n    x = artboardX + artboardWidth / 2 - width / 2;\n    y = artboardY + artboardHeight / 2 - height / 2;\n  } else {\n    return [0, 0];\n  }\n\n  return [x, y];\n};\n","export default {\n  primary: \"#60D072\",\n  dark: \"#444\",\n  lightDark: \"#666\",\n  caption: \"#888\",\n  border: \"#999\",\n  icon: \"#AAA\",\n  text: \"#fff\",\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport Button from \"react-bootstrap/Button\";\nimport { RootState } from \"store\";\nimport { getArtboardCenterPosition } from \"modules/functions/getArtboardCenterPosition\";\nimport Layer from \"modules/layers/Layer\";\nimport { AiOutlineDownload } from \"react-icons/ai\";\nimport { BsPlusCircle } from \"react-icons/bs\";\nimport Theme from \"modules/theme\";\n\nconst VERTICAL_SHAPE = \"VERTICAL_SHAPE\";\nconst HORIZONTAL_SHAPE = \"HORIZONTAL_SHAPE\";\n\ninterface ComponentProps {\n  onClickShape: Function;\n}\n\nconst HeaderButtons: React.FC<ComponentProps> = ({ onClickShape }) => {\n  const layers: Layer[] = useSelector(\n    (state: RootState) => state.layerReducer.layers,\n  );\n  const nowShape: string = useSelector(\n    (state: RootState) => state.headerReducer.nowShape,\n  );\n\n  const makeCanvas = (e: any) => {\n    // canvas 생성\n    const canvas: any = document.createElement(\"canvas\");\n    if (nowShape === \"VERTICAL_SHAPE\") {\n      canvas.width = 280;\n      canvas.height = 400;\n    } else {\n      canvas.width = 480;\n      canvas.height = 280;\n    }\n    const ctx: CanvasRenderingContext2D = canvas.getContext(\"2d\");\n    const CANVAS_WIDTH = canvas.width;\n    const CANVAS_HEIGHT = canvas.height;\n    const [ARTBOARD_X, ARTBOARD_Y] = getArtboardCenterPosition(\n      CANVAS_WIDTH,\n      CANVAS_HEIGHT,\n    );\n    // canvas를 흰바탕으로 칠해줌\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    // canvas를 그릴때, layers를 모두 불러와 z-index를 오름차순으로 정렬 (가장 밑부분 레이어부터 그리기!)\n    const sortedLayers = [...layers].sort((a, b) => {\n      return a.zIndex - b.zIndex;\n    });\n    for (let i = 0; i < sortedLayers.length; i++) {\n      const target = sortedLayers[i];\n      const layerCenterX = target.x - ARTBOARD_X + target.width / 2;\n      const layerCenterY = target.y - ARTBOARD_Y + target.height / 2;\n      ctx.translate(layerCenterX, layerCenterY);\n      ctx.rotate((target.angleDegree * Math.PI) / 180);\n      ctx.translate(-layerCenterX, -layerCenterY);\n      target.draw(ctx, ARTBOARD_X, ARTBOARD_Y);\n      ctx.translate(layerCenterX, layerCenterY);\n      ctx.rotate(-(target.angleDegree * Math.PI) / 180);\n      ctx.translate(-layerCenterX, -layerCenterY);\n    }\n    // 그린 canvas정보를 URL 형태로 href 속성으로 전달\n    // click event handler -> href 순서로 진행됨.\n    e.currentTarget.href = canvas.toDataURL();\n  };\n  return (\n    <ButtonContainer>\n      <Dropdown style={{ zIndex: 1001, marginRight: \"1em\" }}>\n        <Dropdown.Toggle\n          variant=\"outline-dark\"\n          id=\"dropdown-basic\"\n          style={{ background: Theme.primary }}\n        >\n          <Title>\n            <BsPlusCircle style={{ marginRight: \"5px\" }} />\n            New\n          </Title>\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu>\n          <Dropdown.Item onClick={() => onClickShape(VERTICAL_SHAPE)}>\n            세로형\n          </Dropdown.Item>\n          <Dropdown.Item onClick={() => onClickShape(HORIZONTAL_SHAPE)}>\n            가로형\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n      <Button variant=\"outline-dark\" style={{ background: Theme.primary }}>\n        <a onClick={makeCanvas} href=\"/\" download=\"Majoong_Thumbnail.png\">\n          <Title style={{ margin: \"auto\" }}>\n            <AiOutlineDownload />\n          </Title>\n        </a>\n      </Button>\n    </ButtonContainer>\n  );\n};\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst Title = styled.span`\n  font-weight: bold;\n  margin-right: 5px;\n  color: #fff;\n  vertical-align: text-bottom;\n`;\n\nexport default HeaderButtons;\n","type reduxState = {\n  nowShape: string;\n};\n\nexport enum HeaderActions {\n  CHANGE_SHAPE = \"CHANGE_SHAPE\",\n}\n\nexport const initialState: reduxState = {\n  nowShape: \"HORIZONTAL_SHAPE\",\n};\n\nexport default (state = initialState, action: any) => {\n  switch (action.type) {\n    case HeaderActions.CHANGE_SHAPE: {\n      return {\n        ...state,\n        nowShape: action.nowShape,\n      };\n    }\n    default: {\n      return {\n        ...state,\n      };\n    }\n  }\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\n\nimport HeaderButtons from \"components/header/HeaderButtons\";\nimport { HeaderActions } from \"store/headerReducer\";\nimport Theme from \"modules/theme\";\nimport { version } from \"../../package.json\";\n\nconst HeaderContainer = () => {\n  const dispatch = useDispatch();\n  const handleShapeButton = (name: string) => {\n    dispatch({\n      type: HeaderActions.CHANGE_SHAPE,\n      nowShape: name,\n    });\n  };\n\n  return (\n    <Container>\n      <LogoContainer>\n        <Logo src={\"logo.png\"} />\n        <VersionTag>v {version}</VersionTag>\n      </LogoContainer>\n      <HeaderButtons\n        onClickShape={(name: string) => {\n          handleShapeButton(name);\n        }}\n      />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 1em;\n  z-index: 1000;\n  background-color: ${Theme.dark};\n`;\n\nconst Logo = styled.img`\n  height: 70%;\n`;\nconst LogoContainer = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n`;\n\nconst VersionTag = styled.p`\n  color: ${Theme.text};\n  margin: 0;\n  margin-left: 1em;\n  font-size: 10px;\n`;\n\nexport default HeaderContainer;\n","export default class Layer {\n  id: number;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  angleDegree: number;\n  zIndex: number;\n\n  constructor(\n    id: number,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    angleDegree: number,\n    zIndex: number,\n  ) {\n    this.id = id;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.angleDegree = angleDegree;\n    this.zIndex = zIndex;\n  }\n\n  move(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  rotate(angleDegree: number) {\n    this.angleDegree = angleDegree;\n  }\n\n  // 캔버스에 레이어를 그리는 메소드\n  draw(ctx: CanvasRenderingContext2D, ARTBOARD_X: number, ARTBOARD_Y: number) {}\n}\n","import Layer from \"modules/layers/Layer\";\n\nexport default class ImageLayer extends Layer {\n  image: HTMLImageElement;\n\n  constructor(\n    id: number,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    zIndex: number,\n    angleDegree: number,\n    image: HTMLImageElement,\n  ) {\n    super(id, x, y, width, height, zIndex, angleDegree);\n    this.image = image;\n  }\n\n  // 캔버스에 레이어를 그리는 메소드\n  draw(ctx: CanvasRenderingContext2D, ARTBOARD_X: number, ARTBOARD_Y: number) {\n    ctx.drawImage(\n      this.image,\n      0,\n      0,\n      this.image.width,\n      this.image.height,\n      this.x - ARTBOARD_X,\n      this.y - ARTBOARD_Y,\n      this.width,\n      this.height,\n    );\n  }\n}\n","import Layer from \"modules/layers/Layer\";\nimport { getTextLayerWidth } from \"modules/functions/getTextLayerWidth\";\n\nexport default class TextLayer extends Layer {\n  fontFamily: string;\n  fontType: { isBold: boolean; isItalic: boolean; isUnderline: boolean };\n  fontSize: number;\n  color: string;\n  content: string;\n\n  constructor(\n    id: number,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    zIndex: number,\n    angleDegree: number,\n    fontFamily: string,\n    fontType: { isBold: boolean; isItalic: boolean; isUnderline: boolean },\n    fontSize: number,\n    color: string,\n    content: string,\n  ) {\n    super(id, x, y, width, height, zIndex, angleDegree);\n    this.fontFamily = fontFamily;\n    this.fontType = fontType;\n    this.fontSize = fontSize;\n    this.color = color;\n    this.content = content;\n  }\n\n  // 캔버스에 레이어를 그리는 메소드\n  draw(ctx: CanvasRenderingContext2D, ARTBOARD_X: number, ARTBOARD_Y: number) {\n    ctx.fillStyle = \"black\";\n    ctx.textBaseline = \"top\";\n    ctx.font = `${this.fontType.isBold ? \"bold\" : \"\"} ${\n      this.fontType.isItalic ? \"italic\" : \"\"\n    } ${this.fontSize}px ${this.fontFamily}`;\n    this.fontType.isUnderline &&\n      ctx.fillRect(\n        this.x - ARTBOARD_X,\n        this.y - ARTBOARD_Y + this.height,\n        getTextLayerWidth(this.id),\n        1,\n      );\n    ctx.fillText(this.content, this.x - ARTBOARD_X, this.y - ARTBOARD_Y);\n  }\n}\n","export const getTextLayerWidth = (id: number) => {\n  const textElement = document.getElementById(`text${id}`);\n  if (textElement !== null) {\n    return textElement.getBoundingClientRect().width;\n  } else {\n    return 0;\n  }\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\ninterface ShapeProps {\n  shapeType: string;\n}\n\ninterface ComponentProps {\n  nowShape: string;\n}\n\nconst ArtBoard: React.FC<ComponentProps> = ({ nowShape }) => {\n  return <Container id=\"artboard\" shapeType={nowShape} />;\n};\n\nconst Container = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: ${(props: ShapeProps) => {\n    return props.shapeType === \"HORIZONTAL_SHAPE\" ? \"480px\" : \"280px\";\n  }};\n  height: ${(props: ShapeProps) => {\n    return props.shapeType === \"HORIZONTAL_SHAPE\" ? \"280px\" : \"400px\";\n  }};\n  background: white;\n`;\n\nexport default ArtBoard;\n","import Layer from \"modules/layers/Layer\";\nimport TextLayer from \"modules/layers/TextLayer\";\nimport { swapZindex } from \"modules/functions/util\";\n\ntype reduxState = {\n  layers: Layer[];\n  selectedId: number | null;\n};\n\nexport enum LayerActions {\n  CHANGE_LAYER_LOCATION = \"CHANGE_LAYER_LOCATION\",\n  SET_ZINDEX = \"SET_ZINDEX\",\n  REMOVE_LAYER = \"REMOVE_LAYER\",\n  ADD_LAYER = \"ADD_LAYER\",\n  GET_SORTED_LAYERS = \"GET_SORTED_LAYERS\",\n  SET_SELECTED = \"SET_SELECTED\",\n  DESELECT = -1,\n  ADJUST_FONTTYPE = \"ADJUST_FONTTYPE\",\n  ADJUST_FONTSIZE = \"ADJUST_FONTSIZE\",\n  ADJUST_FONTCONTENT = \"ADJUST_FONTCONTENT\",\n  ADJUST_FONTFAMILY = \"ADJUST_FONTFAMILY\",\n  ADJUST_ANGLE = \"ADJUST_ANGLE\",\n  ADJUST_SIZE = \"ADJUST_SIZE\",\n}\n\nexport const initialState: reduxState = {\n  layers: [],\n  selectedId: null,\n};\n\nexport default (state = initialState, action: any) => {\n  switch (action.type) {\n    case LayerActions.CHANGE_LAYER_LOCATION: {\n      console.log(action.id, action.x, action.y);\n      const layerIndex = state.layers\n        .map((layer) => layer.id)\n        .indexOf(action.id);\n      const target = state.layers[layerIndex];\n      target.move(action.x, action.y);\n      state.layers[layerIndex] = target;\n\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    case LayerActions.SET_ZINDEX: {\n      const target = state.layers.filter((layer) => layer.id === action.id)[0];\n      const upLayer = state.layers.filter(\n        (layer) => layer.zIndex === state.layers[target.id].zIndex + 1,\n      )[0];\n      const downLayer = state.layers.filter(\n        (layer) => layer.zIndex === state.layers[target.id].zIndex - 1,\n      )[0];\n\n      if (action._type == \"up\" && upLayer) {\n        state.layers = swapZindex(state.layers, target.id, upLayer.id);\n      } else if (action._type == \"down\" && downLayer) {\n        state.layers = swapZindex(state.layers, target.id, downLayer.id);\n      } else {\n        console.log(\n          `${action.id} layer have reach ${action._type} zIndex limit`,\n        );\n      }\n\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    case LayerActions.REMOVE_LAYER: {\n      const removeIndex = state.layers\n        .map((layer) => {\n          return layer.id;\n        })\n        .indexOf(action.id);\n      state.layers.splice(removeIndex, 1);\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    case LayerActions.ADD_LAYER: {\n      return {\n        ...state,\n        layers: [...state.layers, action.layer],\n        selectedId: action.layer.id,\n      };\n    }\n    case LayerActions.SET_SELECTED: {\n      let id;\n      if (action.id == LayerActions.DESELECT) {\n        // 레이어 지정 취소 커맨드(-1)의 경우\n        id = null;\n      } else if (action.id != null) {\n        id = action.id;\n      } else {\n        if (state.layers.length > 0) {\n          // 아이디가 지정되지는 않았지만, 레이어 스택에 레이어가 남은 경우\n          id = state.layers[state.layers.length - 1].id;\n        } else {\n          id = null;\n        }\n      }\n      return {\n        ...state,\n        selectedId: id,\n      };\n    }\n    case LayerActions.ADJUST_FONTTYPE: {\n      const layerIndex = state.layers\n        .map((layer) => layer.id)\n        .indexOf(action.id);\n      const target = state.layers[layerIndex] as TextLayer;\n      const fontType = target.fontType;\n      const actionFontType = action.fontType;\n      if (actionFontType == \"Bold\") {\n        target.fontType.isBold = !fontType.isBold;\n      } else if (actionFontType == \"Italic\") {\n        target.fontType.isItalic = !fontType.isItalic;\n      } else if (actionFontType == \"Underline\") {\n        target.fontType.isUnderline = !fontType.isUnderline;\n      }\n      state.layers[layerIndex] = target;\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    case LayerActions.ADJUST_FONTSIZE: {\n      const layerIndex = state.layers\n        .map((layer) => layer.id)\n        .indexOf(action.id);\n      const target = state.layers[layerIndex] as TextLayer;\n      const FONT_SIZE = action.fontSize;\n      target.fontSize = FONT_SIZE;\n      target.height = action.fontSize;\n      target.width = target.content.length * FONT_SIZE;\n\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    case LayerActions.ADJUST_FONTCONTENT: {\n      const layerIndex = state.layers\n        .map((layer) => layer.id)\n        .indexOf(action.id);\n      const target = state.layers[layerIndex] as TextLayer;\n      const FONT_SIZE = target.fontSize;\n      target.content = action.content;\n      target.width = action.content.length * FONT_SIZE;\n\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    case LayerActions.ADJUST_FONTFAMILY: {\n      const layerIndex = state.layers\n        .map((layer) => layer.id)\n        .indexOf(action.id);\n      const target = state.layers[layerIndex] as TextLayer;\n      target.fontFamily = action.fontFamily;\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    case LayerActions.ADJUST_ANGLE: {\n      const layerIndex = state.layers\n        .map((layer) => layer.id)\n        .indexOf(action.id);\n      const target = state.layers[layerIndex];\n      target.rotate(action.angle);\n\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    case LayerActions.ADJUST_SIZE: {\n      const layerIndex = state.layers\n        .map((layer) => layer.id)\n        .indexOf(action.id);\n      const target = state.layers[layerIndex];\n      if (action.size > 0) {\n        target.height *= action.size / target.width;\n        target.width = action.size;\n      }\n\n      return {\n        ...state,\n        layers: [...state.layers],\n      };\n    }\n    default: {\n      return {\n        ...state,\n      };\n    }\n  }\n};\n","import Layer from \"modules/layers/Layer\";\n\nconst swapZindex = (layers: Layer[], l1: number, l2: number) => {\n  console.log(\"l1, l2\", l1, l2);\n  const targetZindex = layers[l1].zIndex;\n  const cloneLayers = [...layers];\n\n  cloneLayers[l1].zIndex = cloneLayers[l2].zIndex;\n  cloneLayers[l2].zIndex = targetZindex;\n\n  return cloneLayers;\n};\n\nexport { swapZindex };\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { LayerActions } from \"store/layerReducer\";\nimport Layer from \"modules/layers/Layer\";\n\nconst useDrag = (layer: Layer, onClick: Function) => {\n  const dispatch = useDispatch();\n  const { id, x, y, width, height, angleDegree } = layer;\n  // 이미지 좌표, 각도\n  const [imgX, setImgX] = useState(x);\n  const [imgY, setImgY] = useState(y);\n  // 드래그 시작시, 이미지 좌표\n  const [firstImgX, setFirstImgX] = useState(0);\n  const [firstImgY, setFirstImgY] = useState(0);\n  // 드래그 시작시, e.client 좌표\n  const [firstEventClientX, setFirstEventClientX] = useState(0);\n  const [firstEventClientY, setFirstEventClientY] = useState(0);\n  const [\n    transparentImage,\n    setTransparentImage,\n  ] = useState<HTMLImageElement | null>(null);\n\n  useEffect(() => {\n    const img = new Image();\n    img.src =\n      \"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=\";\n    img.onload = () => {\n      setTransparentImage(img);\n    };\n  }, []);\n\n  // 드래그 스타트 (기존의 이미지좌표와 e.client좌표 저장)\n  const onDragStartImageHandler = useCallback(\n    (e: React.DragEvent<HTMLImageElement>) => {\n      transparentImage && e.dataTransfer.setDragImage(transparentImage, 0, 0);\n      onClick(id, imgX, imgY, width, height, angleDegree, false);\n      setFirstEventClientX(e.clientX);\n      setFirstEventClientY(e.clientY);\n      setFirstImgX(imgX);\n      setFirstImgY(imgY);\n    },\n    [imgX, imgY, transparentImage],\n  );\n\n  // 드래그 도중 (기존의 이미지좌표의 e.client좌표와 현재 드래그 도중의 e.client좌표 차이만큼 이미지좌표에 더해서 저장)\n  const onDragImageHandler = useCallback(\n    (e: React.DragEvent<HTMLImageElement>) => {\n      transparentImage && e.dataTransfer.setDragImage(transparentImage, 0, 0);\n      const xChange = e.clientX - firstEventClientX;\n      const yChange = e.clientY - firstEventClientY;\n      setImgX(firstImgX + xChange);\n      setImgY(firstImgY + yChange);\n    },\n    [firstEventClientX, firstEventClientY, firstImgX, firstImgY],\n  );\n\n  // drop을 사용하려면 dragover 이벤트핸들러를 만들고 e.preventDefault()로 전파를 막아야주어야함.\n  const onDragOverImageHandler = useCallback(\n    (e: React.DragEvent<HTMLImageElement>) => {\n      e.preventDefault();\n    },\n    [],\n  );\n\n  // 드래그 종료 (mobX layers 상태변경)\n  const onDragEndImageHandler = useCallback(() => {\n    dispatch({\n      type: LayerActions.CHANGE_LAYER_LOCATION,\n      id: id,\n      x: imgX,\n      y: imgY,\n    });\n  }, [imgX, imgY]);\n\n  return {\n    imgX,\n    imgY,\n    onClick,\n    onDragStartImageHandler,\n    onDragImageHandler,\n    onDragOverImageHandler,\n    onDragEndImageHandler,\n  };\n};\n\nexport default useDrag;\n","import React from \"react\";\nimport ImageLayer from \"modules/layers/ImageLayer\";\nimport styled from \"styled-components\";\n\nimport useDrag from \"hooks/useDrag\";\n\ninterface ComponentProps {\n  layer: ImageLayer;\n  onClick: Function;\n}\n\nconst DraggableImage: React.FC<ComponentProps> = ({ layer, onClick }) => {\n  const {\n    imgX,\n    imgY,\n    onDragStartImageHandler,\n    onDragImageHandler,\n    onDragOverImageHandler,\n    onDragEndImageHandler,\n  } = useDrag(layer, onClick);\n  const { id, width, height, angleDegree, zIndex, image } = layer;\n\n  const onClickHandler = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation();\n    onClick(id, imgX, imgY, width, height, angleDegree, true, \"image\");\n  };\n\n  return (\n    <div\n      draggable=\"true\"\n      onDrag={onDragImageHandler}\n      onDragStart={onDragStartImageHandler}\n      onDragOver={onDragOverImageHandler}\n      onDragEnd={onDragEndImageHandler}\n      onClick={onClickHandler}\n      style={{\n        position: \"fixed\",\n        width: width,\n        height: height,\n        left: imgX,\n        top: imgY,\n        zIndex: zIndex,\n        transform: `rotate(${angleDegree}deg)`,\n      }}\n    >\n      <Img src={image.src} />\n    </div>\n  );\n};\n\nconst Img = styled.img`\n  width: 100%;\n  height: 100%;\n  src: ${(props) => props.src};\n`;\n\nexport default DraggableImage;\n","import React from \"react\";\nimport TextLayer from \"modules/layers/TextLayer\";\nimport styled from \"styled-components\";\nimport useDrag from \"hooks/useDrag\";\n\ninterface ComponentProps {\n  layer: TextLayer;\n  onClick: Function;\n}\n\nconst DraggableText: React.FC<ComponentProps> = ({ layer, onClick }) => {\n  const {\n    imgX,\n    imgY,\n    onDragStartImageHandler,\n    onDragImageHandler,\n    onDragOverImageHandler,\n    onDragEndImageHandler,\n  } = useDrag(layer, onClick);\n  const {\n    id,\n    width,\n    height,\n    angleDegree,\n    zIndex,\n    fontFamily,\n    fontSize,\n    fontType,\n    content,\n    color,\n  } = layer;\n\n  const onClickHandler = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation();\n    onClick(id, imgX, imgY, width, height, angleDegree, true, \"text\");\n  };\n\n  return (\n    <div\n      draggable=\"true\"\n      onDrag={onDragImageHandler}\n      onDragStart={onDragStartImageHandler}\n      onDragOver={onDragOverImageHandler}\n      onDragEnd={onDragEndImageHandler}\n      onClick={onClickHandler}\n      style={{\n        position: \"fixed\",\n        width: width,\n        height: height,\n        left: imgX,\n        top: imgY,\n        zIndex: zIndex,\n        display: \"flex\",\n        alignItems: \"center\",\n        transform: `rotate(${angleDegree}deg)`,\n      }}\n    >\n      <Text\n        id={`text${id}`}\n        fontFamily={fontFamily}\n        fontType={fontType}\n        fontSize={fontSize}\n        color={color}\n      >\n        {content}\n      </Text>\n    </div>\n  );\n};\nconst Text = styled.p<TextProps>`\n  position: absolute;\n  font-family: ${(props) => props.fontFamily};\n  font-style: ${(props) => (props.fontType.isItalic ? \"italic\" : \"normal\")};\n  font-weight: ${(props) => (props.fontType.isBold ? \"bold\" : \"normal\")};\n  text-decoration: ${(props) =>\n    props.fontType.isUnderline ? \"underline\" : \"none\"};\n  font-size: ${(props) => props.fontSize}px;\n  color: ${(props) => props.color};\n  margin: 0;\n  top: 0;\n`;\n\ninterface TextProps {\n  fontFamily: string;\n  fontType: { isBold: boolean; isItalic: boolean; isUnderline: boolean };\n  fontSize: number;\n  color: string;\n}\n\nexport default DraggableText;\n","type reduxState = {\n  selectedTool: string;\n};\n\nexport enum ToolboxActions {\n  CHANGE_SELECTED_TOOL = \"CHANGE_SELECTED_TOOL\",\n}\n\nexport const initialState: reduxState = {\n  selectedTool: \"\", // \"이미지 삽입\" or \"텍스트 삽입\"\n};\n\nexport default (state = initialState, action: any) => {\n  switch (action.type) {\n    case ToolboxActions.CHANGE_SELECTED_TOOL: {\n      return { selectedTool: action.name };\n    }\n    default: {\n      return {\n        ...state,\n      };\n    }\n  }\n};\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport ImageLayer from \"modules/layers/ImageLayer\";\nimport TextLayer from \"modules/layers/TextLayer\";\nimport ArtBoard from \"components/editor/ArtBoard\";\nimport DraggableImage from \"components/editor/DraggableImage\";\nimport DraggableText from \"components/editor/DraggableText\";\nimport { RootState } from \"store\";\nimport Layer from \"modules/layers/Layer\";\nimport { LayerActions } from \"store/layerReducer\";\nimport { ToolboxActions } from \"store/toolboxReducer\";\nimport Theme from \"modules/theme\";\n\n// 레이어와 선택박스 거리\nconst DISTANCE_BORDER = 4;\n\n// 선택박스 정보\ninterface SelectedBox {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  angleDegree: number;\n}\n\n// 초기 선택박스 정보\nconst initialSelectedBox = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  angleDegree: 0,\n};\n\nconst EditorContainer = () => {\n  const dispatch = useDispatch();\n  const selectedId: number = useSelector(\n    (state: RootState) => state.layerReducer.selectedId,\n  );\n  const nowShape: string = useSelector(\n    (state: RootState) => state.headerReducer.nowShape,\n  );\n  const layers: Layer[] = useSelector(\n    (state: RootState) => state.layerReducer.layers,\n  );\n  const controllerType: string = useSelector(\n    (state: RootState) => state.toolboxReducer.selectedTool,\n  );\n\n  useEffect(() => {\n    if (selectedId != null) {\n      const layerInfo = layers[selectedId];\n      const newSelectedBox = {\n        x: layerInfo.x,\n        y: layerInfo.y,\n        width: layerInfo.width,\n        height: layerInfo.height,\n        angleDegree: layerInfo.angleDegree,\n      };\n      setSelected(true);\n      setSelectedLayerInfo(newSelectedBox);\n    } else {\n      setSelected(false);\n      setSelectedLayerInfo(initialSelectedBox);\n    }\n  }, [selectedId, layers]);\n\n  // 선택여부\n  const [selected, setSelected] = useState(false);\n  // 선택박스 정보\n  const [selectedLayerInfo, setSelectedLayerInfo] = useState<SelectedBox>(\n    initialSelectedBox,\n  );\n\n  const onClickLayerHandler = useCallback(\n    (\n      id: number,\n      imgX: number,\n      imgY: number,\n      width: number,\n      height: number,\n      angleDegree: number,\n      isSelected: boolean,\n      type?: string,\n    ) => {\n      setSelected(isSelected);\n      const newSelectedBox = {\n        x: imgX,\n        y: imgY,\n        width: width,\n        height: height,\n        angleDegree: angleDegree,\n      };\n      setSelectedLayerInfo(newSelectedBox);\n\n      if (selectedId != id) {\n        dispatch({\n          type: LayerActions.SET_SELECTED,\n          id: id,\n        });\n      }\n      if (type && controllerType != type) {\n        const typeName = type == \"text\" ? \"텍스트 삽입\" : \"이미지 삽입\";\n        dispatch({\n          type: ToolboxActions.CHANGE_SELECTED_TOOL,\n          name: typeName,\n        });\n      }\n    },\n    [selectedId],\n  );\n\n  const onClickEditorHandler = useCallback(() => {\n    setSelected(false);\n    dispatch({\n      type: LayerActions.SET_SELECTED,\n      id: LayerActions.DESELECT,\n    });\n    dispatch({\n      type: ToolboxActions.CHANGE_SELECTED_TOOL,\n      name: \"\",\n    });\n  }, []);\n\n  return (\n    <Container onClick={onClickEditorHandler}>\n      {layers.length > 0 &&\n        layers.map((layer: Layer, i: number) => {\n          if (layer instanceof ImageLayer) {\n            return (\n              <DraggableImage\n                key={i}\n                layer={layer}\n                onClick={onClickLayerHandler}\n              />\n            );\n          } else if (layer instanceof TextLayer) {\n            return (\n              <DraggableText\n                key={i}\n                layer={layer}\n                onClick={onClickLayerHandler}\n              />\n            );\n          } else {\n            return null;\n          }\n        })}\n      {selected && (\n        <div\n          style={{\n            position: \"fixed\",\n            border: \"2px dashed red\",\n            boxSizing: \"border-box\",\n            width: selectedLayerInfo.width + DISTANCE_BORDER * 2,\n            height: selectedLayerInfo.height + DISTANCE_BORDER * 2,\n            left: selectedLayerInfo.x - DISTANCE_BORDER,\n            top: selectedLayerInfo.y - DISTANCE_BORDER,\n            zIndex: 9,\n            transform: `rotate(${selectedLayerInfo.angleDegree}deg)`,\n          }}\n        />\n      )}\n      <ArtBoard nowShape={nowShape} />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  position: relative;\n  background: ${Theme.lightDark};\n  flex: 3;\n`;\n\nexport default EditorContainer;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { IoIosDocument } from \"react-icons/io\";\nimport Theme from \"modules/theme\";\n\ninterface ComponentProps {\n  name?: string;\n  icon?: any;\n  onClickTool?: Function;\n}\n\nconst ToolboxContentBox: React.FC<ComponentProps> = ({\n  name = \"\",\n  icon = <IoIosDocument size=\"60%\" color={Theme.icon} />,\n  onClickTool,\n}) => {\n  return (\n    <ContentBox onClick={() => name.length && onClickTool && onClickTool(name)}>\n      <ContentIcon>{icon}</ContentIcon>\n      {name.length > 0 && <ContentName>{name}</ContentName>}\n    </ContentBox>\n  );\n};\n\nconst ContentBox = styled.button`\n  position: relative;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid;\n  border: 0;\n  background-color: transparent;\n\n  &:hover {\n    background: #bbb;\n  }\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst ContentIcon = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ContentName = styled.div`\n  font-size: 12px;\n  color: ${Theme.caption};\n`;\n\nexport default ToolboxContentBox;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { IoIosDocument } from \"react-icons/io\";\nimport Theme from \"modules/theme\";\n\ninterface ComponentProps {\n  name?: string;\n  icon?: any;\n  onClickTool: Function;\n}\n\nconst ImageContentBox: React.FC<ComponentProps> = ({\n  name = \"\",\n  icon,\n  onClickTool,\n}) => {\n  return (\n    <ContentBox>\n      <FileLabel htmlFor=\"imageLoader\" />\n      <ContentIcon>{icon}</ContentIcon>\n      <ContentName>{name}</ContentName>\n      <input\n        type=\"file\"\n        id=\"imageLoader\"\n        name=\"imageLoader\"\n        accept=\"image/png,image/jpg,image/jpeg\"\n        hidden\n        onChange={(e: any) => {\n          onClickTool(name, e);\n          e.target.value = ``;\n        }}\n      />\n    </ContentBox>\n  );\n};\n\nconst ContentBox = styled.button`\n  position: relative;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid;\n  border: 0;\n  background-color: transparent;\n\n  &:hover {\n    background: #bbb;\n  }\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst ContentIcon = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ContentName = styled.div`\n  font-size: 12px;\n  color: ${Theme.caption};\n`;\n\nconst FileLabel = styled.label`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n`;\n\nexport default ImageContentBox;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { MdMessage } from \"react-icons/md\";\nimport { BsFillImageFill } from \"react-icons/bs\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport ToolboxContentBox from \"components/Toolbox/ToolboxContentBox\";\nimport ImageContentBox from \"components/Toolbox/ImageContentBox\";\nimport { resizeImage } from \"modules/functions/resizeImage\";\nimport { getArtboardCenterPosition } from \"modules/functions/getArtboardCenterPosition\";\nimport ImageLayer from \"modules/layers/ImageLayer\";\nimport TextLayer from \"modules/layers/TextLayer\";\nimport { RootState } from \"store\";\nimport { ToolboxActions } from \"store/toolboxReducer\";\nimport { LayerActions } from \"store/layerReducer\";\nimport Layer from \"modules/layers/Layer\";\nimport Theme from \"modules/theme\";\n\nexport enum ToolboxType {\n  IMAGE = \"이미지 삽입\",\n  TEXT = \"텍스트 삽입\",\n}\n\nconst Toolbox = () => {\n  const dispatch = useDispatch();\n  const layers: Layer[] = useSelector(\n    (state: RootState) => state.layerReducer.layers,\n  );\n  const nowShape: string = useSelector(\n    (state: RootState) => state.headerReducer.nowShape,\n  );\n  const handleTool = (name: string, e: any = null) => {\n    dispatch({\n      type: ToolboxActions.CHANGE_SELECTED_TOOL,\n      name: name,\n    });\n    if (name == ToolboxType.TEXT) {\n      handleText();\n    } else if (name == ToolboxType.IMAGE) {\n      handleImage(e);\n    }\n  };\n\n  const handleImage = (e: any) => {\n    const reader = new FileReader();\n\n    // FileReader load 이벤트핸들러 등록 (성공시에만 트리거됨)\n    reader.onload = (event: any) => {\n      const img = new Image();\n      img.src = event.target.result;\n\n      // Image load 이벤트핸들러 등록\n      img.onload = () => {\n        const [width, height] = resizeImage(img, nowShape);\n        const [x, y] = getArtboardCenterPosition(width, height);\n        const imgLayer = new ImageLayer(\n          layers.length,\n          x,\n          y,\n          width,\n          height,\n          0,\n          layers.length + 10, // 0부터 레이어 번호를 매기면서 10부터 zIndex를 부여함\n          img,\n        );\n        dispatch({\n          type: LayerActions.ADD_LAYER,\n          layer: imgLayer,\n        });\n      };\n    };\n\n    // FileReader가 데이터 읽기 시작 -> 데이터 다 읽으면 load이벤트 발생\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  const handleText = () => {\n    const INITIAL_FONT_SIZE = 12;\n    const OFFSET = 10;\n    const [width, height] = [INITIAL_FONT_SIZE * OFFSET, INITIAL_FONT_SIZE];\n    const [x, y] = getArtboardCenterPosition(width, height);\n\n    const newTextLayer = new TextLayer(\n      layers.length,\n      x,\n      y,\n      width,\n      height,\n      0,\n      layers.length + 10,\n      \"나눔바른고딕\",\n      { isBold: false, isItalic: false, isUnderline: false },\n      12,\n      \"#000\",\n      \"텍스트를 입력하세요\",\n    );\n\n    dispatch({\n      type: LayerActions.ADD_LAYER,\n      layer: newTextLayer,\n      id: newTextLayer.id,\n    });\n  };\n\n  return (\n    <Container>\n      <ContentRow>\n        <ImageContentBox\n          name={ToolboxType.IMAGE}\n          icon={<BsFillImageFill size=\"60%\" color={Theme.icon} />}\n          onClickTool={handleTool}\n        />\n        <ToolboxContentBox\n          name={ToolboxType.TEXT}\n          icon={<MdMessage size=\"60%\" color={Theme.icon} />}\n          onClickTool={handleTool}\n        />\n        <ToolboxContentBox />\n      </ContentRow>\n    </Container>\n  );\n};\n\nconst Container = styled.aside`\n  display: flex;\n  flex-direction: column;\n  background: ${Theme.dark};\n  z-index: 1000;\n  border-bottom: 1px solid ${Theme.border};\n`;\n\nconst ContentRow = styled.div`\n  display: flex;\n  width: \"100%\";\n  height: 100px;\n`;\n\nexport default Toolbox;\n","export const resizeImage = (image: HTMLImageElement, nowShape: string) => {\n  let MAX_WIDTH: number;\n  let MAX_HEIGHT: number;\n  let width = image.width;\n  let height = image.height;\n\n  if (nowShape === \"HORIZONTAL_SHAPE\") {\n    MAX_WIDTH = 480;\n    MAX_HEIGHT = 280;\n  } else if (nowShape === \"VERTICAL_SHAPE\") {\n    MAX_WIDTH = 280;\n    MAX_HEIGHT = 400;\n  } else {\n    MAX_WIDTH = 280;\n    MAX_HEIGHT = 280;\n  }\n\n  // 이미지가 아트보드 가로,세로보다 작을 경우, 원본 사이즈로 리턴\n  if (width < MAX_WIDTH && height < MAX_HEIGHT) {\n    return [width, height];\n  }\n\n  // 아트보드 가로세로 비율\n  const artboardRatio = MAX_WIDTH / MAX_HEIGHT;\n  // 이미지 가로세로 비율\n  const imageRatio = width / height;\n\n  // 아트보드 비율이 이미지 비율보다 크면 이미지의 세로를 아트보드의 세로에 맞춤\n  if (artboardRatio > imageRatio) {\n    width *= MAX_HEIGHT / height;\n    height = MAX_HEIGHT;\n  }\n  // 이미지 비율이 아트보드 비율보다 크면 이미지의 가로를 아트보드의 가로에 맞춤\n  else {\n    height *= MAX_WIDTH / width;\n    width = MAX_WIDTH;\n  }\n  return [width, height];\n};\n","import React, { ReactNode } from \"react\";\nimport styled from \"styled-components\";\n\ninterface ComponentProps {\n  children: ReactNode;\n  subject: string;\n}\n\nconst ContentsGroup: React.FC<ComponentProps> = ({ children, subject }) => {\n  return (\n    <ContentsGroupContainer>\n      <ContentsRow>{children}</ContentsRow>\n      <ContentsLabel>{subject}</ContentsLabel>\n    </ContentsGroupContainer>\n  );\n};\n\nconst ContentsGroupContainer = styled.section`\n  margin: auto 0;\n  padding: 0 1em;\n  flex: 1;\n`;\n\nconst ContentsRow = styled.div`\n  height: 150px;\n  align-items: center;\n`;\n\nconst ContentsLabel = styled.div`\n  display: flex;\n  justify-content: center;\n  color: #888;\n`;\n\nexport default ContentsGroup;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Theme from \"modules/theme\";\n\ninterface ButtonContentProps {\n  icon: JSX.Element;\n  label: string;\n  onClick: Function;\n}\n\nconst ButtonContent: React.FC<ButtonContentProps> = ({\n  icon,\n  label,\n  onClick,\n}) => {\n  return (\n    <Button onClick={() => onClick(label)}>\n      <IconContainer>{icon}</IconContainer>\n    </Button>\n  );\n};\n\nconst Button = styled.button`\n  outline: none;\n  margin: 0 0.5em 0 0;\n  width: 30px;\n  height: 30px;\n  padding: 1px;\n  background-color: ${Theme.dark};\n  border: 2px solid ${Theme.border};\n`;\n\nconst IconContainer = styled.div`\n  margin: auto;\n`;\n\nexport default ButtonContent;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport {\n  AiOutlineItalic,\n  AiOutlineBold,\n  AiOutlineUnderline,\n} from \"react-icons/ai\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport ButtonContent from \"components/controllers/ButtonContent\";\nimport { LayerActions } from \"store/layerReducer\";\nimport { RootState } from \"store\";\nimport Theme from \"modules/theme\";\n\ninterface ComponentProps {\n  input: string;\n  fontSize: number;\n  fonts: string[];\n  nowFontFamily: string;\n  onChangeSize: Function;\n  onChangeContent: Function;\n  onChangeFontFamily: Function;\n}\n\nconst InputContent: React.FC<ComponentProps> = ({\n  input,\n  fontSize,\n  fonts,\n  nowFontFamily,\n  onChangeSize,\n  onChangeContent,\n  onChangeFontFamily,\n}) => {\n  const dispatch = useDispatch();\n  const [size, setSize] = useState(fontSize);\n  const [text, setContent] = useState(input);\n  const [fontFamily, setFontFamily] = useState(nowFontFamily);\n\n  useEffect(() => {\n    setSize(fontSize);\n    setContent(input);\n    setFontFamily(nowFontFamily);\n  }, [fontSize, input, nowFontFamily]);\n\n  const selectedId = useSelector(\n    (state: RootState) => state.layerReducer.selectedId,\n  );\n  const Options = () => {\n    const fontList = fonts.map((item, index) => {\n      return (\n        <Option key={index} value={item}>\n          {item}\n        </Option>\n      );\n    });\n\n    return <>{fontList}</>;\n  };\n\n  const handleSize = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const size = parseInt(e.target.value) ? parseInt(e.target.value) : 5;\n    setSize(size);\n    onChangeSize(size);\n  };\n\n  const handleContent = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setContent(e.target.value);\n    onChangeContent(e.target.value);\n  };\n\n  const handleFontFamily = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setFontFamily(e.target.value);\n    onChangeFontFamily(e.target.value);\n  };\n  const handleStyle = (style: string) => {\n    dispatch({\n      type: LayerActions.ADJUST_FONTTYPE,\n      id: selectedId,\n      fontType: style,\n    });\n  };\n\n  return (\n    <Container>\n      <InputBox>\n        <Label>Size</Label>\n        <InputText type={\"number\"} value={size} onChange={handleSize} min={5} />\n      </InputBox>\n      <InputBox>\n        <Label>Text</Label>\n        <InputText value={text} onChange={handleContent} />\n      </InputBox>\n      <InputBox>\n        <Label>Font</Label>\n        <InputSelect onChange={handleFontFamily} defaultValue={fontFamily[0]}>\n          <Options />\n        </InputSelect>\n      </InputBox>\n      <InputBox>\n        <Label>Style</Label>\n        <ButtonBox>\n          <ButtonContent\n            icon={<AiOutlineBold color={\"white\"} />}\n            label={\"Bold\"}\n            onClick={handleStyle}\n          />\n          <ButtonContent\n            icon={<AiOutlineItalic color={\"white\"} />}\n            label={\"Italic\"}\n            onClick={handleStyle}\n          />\n          <ButtonContent\n            icon={<AiOutlineUnderline color={\"white\"} />}\n            label={\"Underline\"}\n            onClick={handleStyle}\n          />\n        </ButtonBox>\n      </InputBox>\n    </Container>\n  );\n};\nconst Container = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst InputBox = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 7px 0;\n  height: 20px;\n`;\n\nconst ButtonBox = styled.div`\n  width: 52%;\n`;\n\nconst InputText = styled.input`\n  width: 50%;\n  padding: 3px;\n  background-color: ${Theme.dark};\n  color: #fff;\n  border: 1px solid ${Theme.border};\n  font-size: 12px;\n`;\n\nconst InputSelect = styled.select`\n  width: 52%;\n  background-color: ${Theme.dark};\n  color: #fff;\n`;\n\nconst Option = styled.option``;\n\nconst Label = styled.label`\n  color: #888;\n`;\n\nexport default InputContent;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\ninterface ComponentProps {\n  value: number;\n  onChange: Function;\n}\n\nconst SizeSlider: React.FC<ComponentProps> = ({ value, onChange }) => {\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = parseInt(e.target.value);\n    onChange(val);\n  };\n  return (\n    <Container>\n      <Slider\n        type={\"range\"}\n        value={value}\n        onChange={(e) => handleChange(e)}\n        max={1000}\n      />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 100%;\n`;\n\nconst Slider = styled.input`\n  width: 90%;\n`;\n\nexport default SizeSlider;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\ninterface ComponentProps {\n  value: number;\n  onChange: Function;\n}\n\nconst AngleSlider: React.FC<ComponentProps> = ({ value, onChange }) => {\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = parseInt(e.target.value);\n    onChange(val);\n  };\n  return (\n    <Container>\n      <Slider\n        type={\"range\"}\n        value={value}\n        onChange={(e) => handleChange(e)}\n        max={360}\n      />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 100%;\n`;\n\nconst Slider = styled.input`\n  width: 90%;\n`;\n\nexport default AngleSlider;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport SizeSlider from \"components/controllers/atoms/SizeSlider\";\nimport AngleSlider from \"components/controllers/atoms/AngleSlider\";\nimport { RootState } from \"store\";\nimport Layer from \"modules/layers/Layer\";\nimport { LayerActions } from \"store/layerReducer\";\n\ninterface ComponentProps {\n  size?: boolean;\n  rotation?: boolean;\n}\n\nconst AdjustContent: React.FC<ComponentProps> = ({ size, rotation }) => {\n  const dispatch = useDispatch();\n  const selectedId = useSelector(\n    (state: RootState) => state.layerReducer.selectedId,\n  );\n  const layers = useSelector((state: RootState) => state.layerReducer.layers);\n  const layer: Layer = layers[selectedId];\n\n  const handleAngle = (angle: number) => {\n    dispatch({\n      type: LayerActions.ADJUST_ANGLE,\n      id: selectedId,\n      angle: angle,\n    });\n  };\n  const handleSize = (size: number) => {\n    dispatch({\n      type: LayerActions.ADJUST_SIZE,\n      id: selectedId,\n      size: size,\n    });\n  };\n\n  return (\n    <Container>\n      {size && (\n        <AdjustBox>\n          <Label>Size</Label>\n          <ContentBox>\n            <SizeSlider value={layer.width} onChange={handleSize} />\n          </ContentBox>\n        </AdjustBox>\n      )}\n      {rotation && (\n        <AdjustBox>\n          <Label>Rotation</Label>\n          <ContentBox>\n            <AngleSlider value={layer.angleDegree} onChange={handleAngle} />\n          </ContentBox>\n        </AdjustBox>\n      )}\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst AdjustBox = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 5px 0;\n  height: 20px;\n`;\n\nconst Label = styled.label`\n  width: 30%;\n  text-align: center;\n  color: #888;\n`;\n\nconst ContentBox = styled.div`\n  width: 70%;\n  display: inline-block;\n`;\n\nexport default AdjustContent;\n","import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport ContentsGroup from \"components/controllers/ContentsGroup\";\nimport InputContent from \"components/controllers/InputContent\";\nimport { RootState } from \"store\";\nimport TextLayer from \"modules/layers/TextLayer\";\nimport AdjustContent from \"components/controllers/AdjustContent\";\nimport { LayerActions } from \"store/layerReducer\";\nimport Theme from \"modules/theme\";\n\nconst TextController = () => {\n  const dispatch = useDispatch();\n  const selectedId = useSelector(\n    (state: RootState) => state.layerReducer.selectedId,\n  );\n  const layers = useSelector((state: RootState) => state.layerReducer.layers);\n  const targetLayer: TextLayer = layers[selectedId];\n\n  const handleSize = (size: number) => {\n    dispatch({\n      type: LayerActions.ADJUST_FONTSIZE,\n      id: selectedId,\n      fontSize: size,\n    });\n  };\n\n  const handleContent = (content: string) => {\n    dispatch({\n      type: LayerActions.ADJUST_FONTCONTENT,\n      id: selectedId,\n      content: content,\n    });\n  };\n\n  const handleFontFamily = (fontFamily: string) => {\n    dispatch({\n      type: LayerActions.ADJUST_FONTFAMILY,\n      id: selectedId,\n      fontFamily: fontFamily,\n    });\n  };\n\n  return (\n    <Container>\n      <ContentsGroup subject={\"Content\"}>\n        <InputContent\n          fontSize={targetLayer.fontSize}\n          input={targetLayer.content}\n          fonts={[\"나눔바른고딕\", \"조선궁서체\", \"TT투게더\"]}\n          nowFontFamily={targetLayer.fontFamily}\n          onChangeSize={handleSize}\n          onChangeContent={handleContent}\n          onChangeFontFamily={handleFontFamily}\n        />\n      </ContentsGroup>\n      <ContentsGroup subject={\"Adjust\"}>\n        <AdjustContent rotation />\n      </ContentsGroup>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  background-color: ${Theme.lightDark};\n  border: 1px solid ${Theme.border};\n  padding: 0 1em;\n  flex: 1;\n  display: flex;\n`;\n\nexport default TextController;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport ContentsGroup from \"components/controllers/ContentsGroup\";\nimport AdjustContent from \"components/controllers/AdjustContent\";\nimport Theme from \"modules/theme\";\n\nconst ImageController = () => {\n  return (\n    <Container>\n      <ContentsGroup subject={\"Adjust\"}>\n        <AdjustContent size rotation />\n      </ContentsGroup>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  background-color: ${Theme.lightDark};\n  border: 1px solid ${Theme.border};\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #888;\n`;\n\nexport default ImageController;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Theme from \"modules/theme\";\n\nconst DefaultController = () => {\n  return <Container>Select tool from top right corner</Container>;\n};\n\nconst Container = styled.div`\n  background-color: ${Theme.lightDark};\n  border: 1px solid ${Theme.border};\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${Theme.caption};\n`;\n\nexport default DefaultController;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { ToolboxType } from \"containers/ToolboxContainer\";\nimport TextController from \"components/controllers/TextController\";\nimport ImageController from \"components/controllers/ImageController\";\nimport DefaultController from \"components/controllers/DefaultController\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"store\";\nimport Theme from \"modules/theme\";\n\ninterface SwitchProps {\n  type: string;\n}\n\nconst ControllerContainer = () => {\n  const selectedTool: string = useSelector(\n    (state: RootState) => state.toolboxReducer.selectedTool,\n  );\n  const layersLength: number = useSelector(\n    (state: RootState) => state.layerReducer.layers.length,\n  );\n\n  const SwitchController: React.FC<SwitchProps> = ({ type }) => {\n    let result;\n\n    if (layersLength < 1) {\n      result = <DefaultController />;\n      return result;\n    }\n    switch (type) {\n      case ToolboxType.TEXT:\n        result = <TextController />;\n        break;\n      case ToolboxType.IMAGE:\n        result = <ImageController />;\n        break;\n      default:\n        result = <DefaultController />;\n        break;\n    }\n    return result;\n  };\n\n  return (\n    <Container>\n      <SwitchController type={selectedTool} />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  background: ${Theme.dark};\n  flex: 1;\n  display: flex;\n  padding: 1em;\n  z-index: 1000;\n`;\n\nexport default ControllerContainer;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { FaTrashAlt } from \"react-icons/fa\";\nimport Theme from \"modules/theme\";\n\ninterface ComponentProps {\n  name: string;\n  onMove: (type: string) => void;\n  onRemove: VoidFunction;\n}\n\nconst LayerBox: React.FC<ComponentProps> = ({ name, onMove, onRemove }) => {\n  return (\n    <Container>\n      <LayerContent>\n        <LayerName>{name}</LayerName>\n        <RemoveButton onClick={() => onRemove()}>\n          <FaTrashAlt size={15} color={\"#aaa\"} />\n        </RemoveButton>\n      </LayerContent>\n      <UpDownContainer>\n        <Button onClick={() => onMove(\"up\")}>⬆</Button>\n        <Button onClick={() => onMove(\"down\")}>⬇</Button>\n      </UpDownContainer>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  flex: 1;\n  height: 70px;\n  display: flex;\n  align-items: center;\n  box-shadow: inset 1px 3px 2px #999, inset -1px -3px 2px #666;\n\n  &:nth-child(2n + 1) {\n    background-color: #888;\n  }\n  &:nth-child(2n) {\n    background-color: #777;\n  }\n`;\nconst LayerContent = styled.div`\n  flex: 9;\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  padding: 0 1em;\n`;\n\nconst LayerName = styled.p`\n  margin: 0;\n  font-size: 20px;\n  color: ${Theme.text};\n`;\n\nconst RemoveButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  visibility: hidden;\n  outline: none;\n\n  ${LayerContent}:hover & {\n    visibility: visible;\n  }\n`;\n\nconst UpDownContainer = styled.div`\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Button = styled.button`\n  flex: 1;\n  background-color: transparent;\n  outline: none;\n  border: transparent;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport default LayerBox;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { MdInbox } from \"react-icons/md\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport LayerBox from \"components/layers/LayerBox\";\nimport { LayerActions } from \"store/layerReducer\";\nimport Layer from \"modules/layers/Layer\";\nimport ImageLayer from \"modules/layers/ImageLayer\";\nimport { RootState } from \"store\";\nimport Theme from \"modules/theme\";\n\ninterface LayerBoxesProps {\n  layers: Layer[];\n}\n\nconst LayerBoxes: React.FC<LayerBoxesProps> = ({ layers }) => {\n  const dispatch = useDispatch();\n  const [ordered, setOrdered] = useState<Layer[]>([]);\n  const selectedId = useSelector(\n    (state: RootState) => state.layerReducer.selectedId,\n  );\n\n  useEffect(() => {\n    if (layers.length > 0) {\n      let orderedLayers = layers.slice().sort((a, b) => {\n        return b.zIndex - a.zIndex;\n      });\n      setOrdered(orderedLayers);\n    } else {\n      setOrdered([]);\n    }\n  }, [layers]);\n\n  const handleVerticalMove = (id: number, type: string) => {\n    dispatch({\n      type: LayerActions.SET_ZINDEX,\n      id: id,\n      _type: type,\n    });\n  };\n\n  const handleRemoveLayer = (id: number) => {\n    console.log(`${id} layer removed!`);\n    dispatch({\n      type: LayerActions.REMOVE_LAYER,\n      id: id,\n    });\n    if (selectedId == id) {\n      dispatch({\n        type: LayerActions.SET_SELECTED,\n      });\n    }\n  };\n\n  const layerList =\n    ordered.length > 0\n      ? ordered.map((layer: Layer) => {\n          const layerType =\n            layer instanceof ImageLayer === true ? \"Image \" : \"Text \";\n\n          return (\n            <LayerBox\n              key={layer.id}\n              name={layerType + layer.id}\n              onMove={(type) => handleVerticalMove(layer.id, type)}\n              onRemove={() => handleRemoveLayer(layer.id)}\n            />\n          );\n        })\n      : null;\n\n  return (\n    <>\n      {layerList ? (\n        <>{layerList}</>\n      ) : (\n        <DefaultLayers>\n          <MdInbox size={\"50%\"} color={Theme.icon} />\n          Try adding layers from above\n        </DefaultLayers>\n      )}\n    </>\n  );\n};\n\nconst DefaultLayers = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  color: ${Theme.caption};\n  height: 100%;\n`;\n\nexport default LayerBoxes;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport LayerBoxes from \"components/layers/LayerBoxes\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"store\";\nimport Layer from \"modules/layers/Layer\";\nimport Theme from \"modules/theme\";\n\nconst LayerContainer = () => {\n  const layers: Layer[] = useSelector(\n    (state: RootState) => state.layerReducer.layers,\n  );\n  return (\n    <Container>\n      <Title>Layers</Title>\n      <LayerGroup>\n        <LayerBoxes layers={layers} />\n      </LayerGroup>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  flex: 2;\n  height: 80%;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0 1em 1em 1em;\n  background-color: ${Theme.dark};\n`;\n\nconst Title = styled.h3`\n  margin: 0;\n  padding: 0.5em;\n  color: ${Theme.caption};\n  text-align: center;\n`;\n\nconst LayerGroup = styled.div`\n  background-color: ${Theme.lightDark};\n  border: 1px solid #999;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n`;\n\nexport default LayerContainer;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport HeaderContainer from \"containers/HeaderContainer\";\nimport EditorContainer from \"containers/EditorContainer\";\nimport ControllerContainer from \"containers/ControllerContainer\";\nimport ToolboxContainer from \"containers/ToolboxContainer\";\nimport LayerContainer from \"containers/LayerContainer\";\nimport Theme from \"modules/theme\";\n\nconst Home = () => {\n  return (\n    <Container>\n      <HeaderContainer />\n      <Content>\n        <LeftContent>\n          <EditorContainer />\n          <ControllerContainer />\n        </LeftContent>\n        <RightContent>\n          <ToolboxContainer />\n          <LayerContainer />\n        </RightContent>\n      </Content>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: ${Theme.dark};\n`;\n\nconst Content = styled.div`\n  display: flex;\n  width: 100vw;\n  height: calc(100vh - 60px);\n`;\n\nconst LeftContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 3;\n`;\n\nconst RightContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 300px; /* 툴박스는 고정 크기 */\n  border-left: 1px solid ${Theme.border};\n  border-top: 1px solid ${Theme.border};\n`;\n\nexport default Home;\n","import { combineReducers } from \"redux\";\nimport headerReducer from \"store/headerReducer\";\nimport layerReducer from \"store/layerReducer\";\nimport toolboxReducer from \"store/toolboxReducer\";\n\nconst rootReducer = combineReducers({\n  headerReducer,\n  layerReducer,\n  toolboxReducer,\n});\n\nexport default rootReducer;\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\n\nimport Home from \"pages/Home\";\nimport configureStore from \"store/configureStore\";\nimport \"Font.css\";\n\nconst store = configureStore();\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <Home />\n    </Provider>\n  );\n};\n\nexport default App;\n","import reducers from \"store\";\nimport { createStore, Store } from \"redux\";\n\nexport default function configureStore(): Store {\n  const store = createStore(\n    reducers,\n    (window as any).__REDUX_DEVTOOLS_EXTENSION__ &&\n      (window as any).__REDUX_DEVTOOLS_EXTENSION__(),\n  );\n  return store;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config: any) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: any, config: any) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: any, config: any) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}